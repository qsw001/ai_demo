I will implement the requested "Shooter Snake" gameplay mechanics by extending the existing SnakeFX codebase.

## 1. Core Feature: Bullet System
*   **New Class**: `Bullet` in `js/Bullet.js`
    *   Props: `x, y, direction, ownerType (player/enemy), speed`.
    *   Methods: `update(dt)`, `draw(ctx)`.
*   **New Manager**: `BulletManager` in `js/BulletManager.js`
    *   Handles update/draw loop for all bullets.
    *   Handles out-of-bounds removal.
*   **Integration**:
    *   Modify `Snake` and `EnemySnake` to include `shoot()` method.
    *   Logic: Check length > 1, cooldown check, spawn bullet, reduce length (pop tail).
    *   Input: Bind `Space` or another key (e.g., `Shift`) for player shooting. (Existing Space is Pause/Start, might need to rebind or use context). **Plan: Use 'F' or 'J' or 'Enter' for shooting to avoid conflict with Space (Pause).** Or keep Space for shoot if game is running. User said "Space to Start", implies Space is Pause/Resume. I will use **'J'** or **'Shift'** for shooting.

## 2. Enemy AI Differentiation
*   **Refactor `EnemySnake`**:
    *   Add `type` property: `RESOURCE` (Yellow/Green) vs `AGGRESSIVE` (Red).
    *   Update `decideMove` logic based on type.
        *   **Resource AI**: Prioritize food pathfinding. Shoot only if blocked.
        *   **Aggressive AI**: Prioritize player head pathfinding. Shoot if player is in line of sight.
*   **Visuals**: Different colors for different AI types.

## 3. Game Logic Enhancements
*   **Food System**:
    *   Modify `Food` class or `Game` class to manage *multiple* food items. Currently `Game` has `this.food` (single). I need to change it to `this.foods = []`.
    *   Implement "Loot Drop": When snake dies, spawn multiple foods at its body positions.
    *   Implement "Auto Replenish": Ensure minimum food count.
*   **Victory/Defeat**:
    *   Add `VICTORY` state to `STATE` enum.
    *   Check `player.body.length >= 30` in `update`.
    *   Modify `drawUI` to show Victory screen.

## 4. Execution Steps
1.  **Refactor Food**: Change single `this.food` to `this.foods` array in `Game.js`. Update collision logic.
2.  **Implement Bullets**: Create `Bullet.js`, `BulletManager.js`. Add collision logic in `Game.js` (Bullet vs Snake).
3.  **Update Snake Classes**: Add `shoot()` capability and cooldowns to `Snake` and `EnemySnake`.
4.  **Enhance AI**: Modify `EnemySnake.js` to support strategies.
5.  **Game Loop Integration**: Wire everything into `Game.js` (Update bullets, handle shooting input, check win condition).

## 5. Verification
*   Player can shoot (loses length).
*   Enemies spawn with different types.
*   Bullets kill snakes and drop food.
*   Win condition triggers at length 30.

I will start by creating the new modules and then refactoring the Game class.
